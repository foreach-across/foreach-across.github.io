<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Release procedure | Foreach Across</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The release procedure consists of:


Making a release plan file.


Running a script for each repository you are releasing.


And a few post-release steps.

">
    <meta name="generator" content="Hugo 0.121.2">
    
    
    
    
      <meta name="robots" content="index, follow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.f96b61024fa9430d3974da887e046433b2e934adb2f7c0fd2259cd989344350b.css" >



    

    
      
<link rel="shortcut icon" href="/img/favicon-32x32.ico" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="https://foreach-across.github.io/maintenance/release-procedure/">
    

    <meta property="og:title" content="Release procedure" />
<meta property="og:description" content="The release procedure consists of:


Making a release plan file.


Running a script for each repository you are releasing.


And a few post-release steps.

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://foreach-across.github.io/maintenance/release-procedure/" /><meta property="article:section" content="maintenance" />



<meta itemprop="name" content="Release procedure">
<meta itemprop="description" content="The release procedure consists of:


Making a release plan file.


Running a script for each repository you are releasing.


And a few post-release steps.

">

<meta itemprop="wordCount" content="1321">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Release procedure"/>
<meta name="twitter:description" content="The release procedure consists of:


Making a release plan file.


Running a script for each repository you are releasing.


And a few post-release steps.

"/>

      
    
	
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Foreach Across
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/" title="Home page">
              Home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/overview/" title="Overview page">
              Overview
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/modules/" title="Modules page">
              Modules
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/docs/" title="Docs page">
              Docs
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/release-notes/" title="Release Notes page">
              Release Notes
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/blog/" title="Blog page">
              Blog
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/maintenance/" title="Maintenance page">
              Maintenance
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/faq/" title="FAQ page">
              FAQ
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/old" title="Old page">
              Old
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://foreach.be/" target="_blank" rel="noopener" class="Foreach ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Foreach link" aria-label="follow on Foreach——Opens in a new window">
      
        Foreach
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.youtube.com/watch?v=00Jn3d12L2M" target="_blank" rel="noopener" class="youtube ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="YouTube link" aria-label="follow on YouTube——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/foreach-across/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Maintenance
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Release procedure</h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>The release procedure consists of:</p>
<ul>
<li>
<p>Making a release plan file.</p>
</li>
<li>
<p>Running a script for each repository you are releasing.</p>
</li>
<li>
<p>And a few post-release steps.</p>
</li>
</ul>
<h2 id="create-a-release-plan-file">Create a release plan file</h2>
<p>On the <code>main</code> branch of the <code>across-development</code> repository, go to the
<code>release-plans</code> directory. This will look something like:</p>
<pre><code>5.3.0-M1.yml
5.3.0-M2.yml
5.3.0.yml
5.4.0.yml
</code></pre>
<p>In this example, we&rsquo;ll release <code>5.4.1</code>, so the easiest option is to
start from the <code>5.4.0.yml</code> file:</p>
<pre><code>cp 5.4.0.yml 5.4.1.yml
git add 5.4.1.yml
</code></pre>
<p>Edit the content of the new release plan file with the repositories
and their corresponding new versions. For the <code>5.4.1</code> example, this
will look like:</p>
<pre><code>across-framework: 5.4.1
across-autoconfigure: 2.4.1
across-base-modules: 4.4.1
across-entity-admin-modules: 4.4.1
across-user-auth-modules: 4.4.1
across-media-modules: 6.4.1
across-platform: 5.4.1
</code></pre>
<p>Note that the order is important: it should follow the dependencies,
and the order in which the repositories are to be released.</p>
<h2 id="run-the-release-script-for-each-repository">Run the release script for each repository</h2>
<p>Warning: This is a procedure that takes a fairly long time (think 1.5
to 2 hours), so the recommendation is <em>NOT</em> use the terminal in
IntelliJ, but an OS-native terminal (&ldquo;Terminal&rdquo; in macOS, Gnome
terminal, Windows Terminal etc).</p>
<p>First of all, make sure you have sourced the right Python virtual
environments, and your <code>JAVA_HOME</code> and <code>PATH</code> environment variables
point to the right JDK (1.8 for Across 5, 17 for Across 6). For my
setup, this is:</p>
<pre><code>. ../../venv/across/bin/activate
. env.sh
</code></pre>
<p>Verify this:</p>
<ul>
<li>
<p><code>which python</code> should show the path to the <code>python</code> executable in
the <code>across</code> virtualenv:</p>
<pre><code>  $ which python
  /home/dvsp/git/venv/across/bin/python
</code></pre>
</li>
<li>
<p><code>mvn --version</code> should print the right JDK version:</p>
<pre><code>  $ mvn --version
  Apache Maven 3.9.6 (bc0240f3c744dd6b6ec2920b3cd08dcc295161ae)
  Maven home: /home/dvsp/tools/maven
  Java version: 1.8.0_332, vendor: Temurin, runtime: /home/dvsp/.jdks/temurin-1.8.0_332/jre
  Default locale: en_US, platform encoding: UTF-8
  OS name: &quot;linux&quot;, version: &quot;6.5.0-21-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;
</code></pre>
</li>
</ul>
<p>In the example, we are making a new release for each repository, so we
start with <code>across-framework</code>. From your <code>across-development</code>
repository (where you have cloned all the other repositories), run:</p>
<pre><code>ax-release.py start release-plans/5.4.1.yml across-framework
</code></pre>
<p>This will perform a few basic checks, edit the required <code>pom.xml</code>
files to change the version numbers, and show you the diff of those
changes. It will then ask for your confirmation. If you&rsquo;re OK with the
changes, type <code>y</code> + enter to continue.</p>
<p>From here onwards, everything will be done automatically (for the
current repository):</p>
<ul>
<li>
<p>A <code>mvn</code> build will be run locally, without any tests, to ensure that
the modified <code>pom.xml</code> files will actually build.</p>
</li>
<li>
<p>The changes will be committed and pushed to GitLab.</p>
</li>
<li>
<p>This will trigger a regular pipeline in GitLab, with one small
variation, because the <code>revision</code> is now no longer a <code>-SNAPSHOT</code>: in
the final job (<code>deploy:foreach</code>), <code>mvn</code> will deploy the artifacts to
the <code>across-releases</code> repository on the Foreach Nexus server
(instead of the <code>across-snapshots</code> repository).</p>
</li>
<li>
<p>When that pipeline is finished successfully, the script will create
a git tag (<code>v5.4.1</code> in this example) and push that to GitLab.</p>
</li>
<li>
<p>Pushing that tag will trigger another pipeline in GitLab, but with
just a single job: <code>deploy:sonatype</code> (a job that is never run in a
&ldquo;regular&rdquo; branch or merge-request pipeline). This job will perform
all of the steps documented at:</p>
<p><a href="https://central.sonatype.org/publish/publish-guide/">https://central.sonatype.org/publish/publish-guide/</a></p>
<p>FYI: Across is on the &ldquo;legacy&rdquo; host: <a href="https://oss.sonatype.org/">https://oss.sonatype.org/</a>, not
on the newer <a href="https://s01.oss.sonatype.org/">https://s01.oss.sonatype.org/</a>.</p>
</li>
</ul>
<p>Once that last pipeline is finished successfully, the script will end
with the following message:</p>
<blockquote>
<p>Remember to close, release and drop the staging repository at
<a href="https://oss.sonatype.org/#stagingRepositories">https://oss.sonatype.org/#stagingRepositories</a> But keep in mind that
can be done for all releases together at the end as well.</p>
</blockquote>
<p>We&rsquo;ll take the last option, and release everything together at the
very end.</p>
<p>For now, perform the above procedure again, for each of the remaining
repositories. Once all of those are done successfully, go to the next
step.</p>
<h2 id="deploy-to-maven-central">Deploy to Maven Central</h2>
<p>In this step, we follow this procedure from Maven Central:</p>
<p><a href="https://central.sonatype.org/publish/release/">https://central.sonatype.org/publish/release/</a></p>
<p>In short: go to:</p>
<p><a href="https://oss.sonatype.org/#stagingRepositories">https://oss.sonatype.org/#stagingRepositories</a></p>
<p>and login with your account that gives you access to Across (check
with the lead Across maintainer for access).  If you don&rsquo;t see any
repository, click the &ldquo;Refresh&rdquo; button.</p>
<p>Before we release (<em>There is no undo!</em>), we will do a brief check of the
content of the staging repository:</p>
<ul>
<li>
<p>Click on the staging repository</p>
</li>
<li>
<p>At the bottom, select the &ldquo;Content&rdquo; tab.</p>
</li>
<li>
<p>Open the tree, and check that all the expected maven artifacts are
there. For instance:</p>
</li>
<li>
<p><code>across-core</code>, <code>across-test</code> and <code>across-web</code>, with the right
versions, if you made a new release for the <code>across-framework</code>
repository.</p>
<ul>
<li>
<p><code>across-autoconfigure</code> if you released the corresponding
repository.</p>
</li>
<li>
<p>Check that all the modules you released are under
<code>com.foreach.across.modules</code>, with the right versions.</p>
</li>
</ul>
</li>
</ul>
<p>Once you are certain that the staging repository contains the right
artifacts:</p>
<ul>
<li>
<p>Select the staging repository.</p>
</li>
<li>
<p>Click the &ldquo;Close&rdquo; button: this takes a while, because it checks
whether all artifacts comply with the <a href="https://central.sonatype.org/publish/requirements/">Maven Central
requirements</a>,
such as <code>sources</code> jar files, GPG signatures, &hellip; Unless those
requirements have changes, the build procedure should have taken
care of them all.</p>
</li>
<li>
<p>Once the repository is closed, the &ldquo;Release&rdquo; button becomes
available. Once you click that, there is no way back: the artifacts
will be deployed to Maven Central, and can never be removed or
modified again. So, be very sure of the contents, before you click
that button!</p>
</li>
</ul>
<p>After (in principle) maximum 10 minutes, the new artifacts should be
available at Maven Central:</p>
<p><a href="https://repo1.maven.org/maven2/">https://repo1.maven.org/maven2/</a></p>
<h2 id="deploy-javadocs-to-the-website">Deploy Javadocs to the website</h2>
<p>The API Javadocs are hosted using GitHub Pages, using this repository:</p>
<p><a href="https://github.com/foreach-across/api-docs-6">https://github.com/foreach-across/api-docs-6</a></p>
<p>Run the equivalent of:</p>
<pre><code>ax-release.py javadoc release-plans/5.4.1.yml
</code></pre>
<p>This will:</p>
<ul>
<li>
<p>Clone the GitHub repository.</p>
</li>
<li>
<p>Download the <code>javadoc</code> jar files from Maven Central (so they must
have deployed before you can do this) and unzip them in the right
directory.</p>
</li>
<li>
<p>Regenerate the <code>index.html</code> files with the new entries.</p>
</li>
<li>
<p>Update the <code>current</code> symlinks to point to the latest release, but
only if needed. For instance, if you release <code>5.4.2</code>, but <code>5.5.0</code>
was already released, the &ldquo;current&rdquo; version will still be <code>5.5.0</code>.</p>
</li>
<li>
<p>Commit and push the changes to GitHub (unless you used the
<code>--no-push</code> option).</p>
</li>
</ul>
<p>When the changes are pushed, GitHub Pages will automatically
re-deploy the site to:</p>
<p><a href="https://foreach-across.github.io/api-docs-6/">https://foreach-across.github.io/api-docs-6/</a></p>
<p>This may take a minute or two. With the right permissions, you can
check when the site was last deployed at:</p>
<p><a href="https://github.com/foreach-across/api-docs-6/actions">https://github.com/foreach-across/api-docs-6/actions</a></p>
<h2 id="write-and-deploy-release-notes">Write and deploy release notes</h2>
<p>Create the release notes under the <code>releases-notes</code> directory, for
instance by starting from an older release note:</p>
<pre><code>cd release-notes/
cp 5.4.0.md 5.4.1.md
git add 5.4.1.md
</code></pre>
<p>Change the title, date and author (if necessary) in the header of the
new document.</p>
<p>Second, if this is an X.Y.0 release (e.g. a new minor release of
Across), then you also have to update the overview table at the start
of <code>release-notes/_index.md</code> (which is rendered at the top of the
<a href="/release-notes/">Release notes page</a>. You need to add a
new column for the new Across version, with the corresponding versions
of Spring Boot, Spring Framework, etc.</p>
<p>Start the <a href="https://gohugo.io">Hugo static site generator</a> in
development mode:</p>
<pre><code>cd website
make start
</code></pre>
<p>Open <a href="http://localhost:1313/">http://localhost:1313/</a> in your browser
and navigate to your new release notes. Whenever you edit the Markdown
file (in your editor), it will immediately be rerendered in the
browser.</p>
<p>Once your release notes are finished you can deploy the changes to
the website (you will need write access to the <a href="https://github.com/foreach-across/foreach-across.github.io">website
repository</a>):</p>
<pre><code>cd website
./deploy.sh &quot;Release notes for 5.4.1&quot;
</code></pre>
<p>Since this is very small, deployment will be fast, but you can follow
the progress here:</p>
<p><a href="https://github.com/foreach-across/foreach-across.github.io/actions">https://github.com/foreach-across/foreach-across.github.io/actions</a></p>
<h2 id="reset-versions-to---snapshot">Reset versions to &ndash;SNAPSHOT</h2>
<p>Warning: This is a procedure that takes a fairly long time (think 1.5
to 2 hours), so the recommendation is <em>NOT</em> use the terminal in
IntelliJ, but an OS-native terminal (&ldquo;Terminal&rdquo; in macOS, Gnome
terminal, Windows Terminal etc).</p>
<ol>
<li>
<p>Make sure you are still in the same <code>across-development</code> repository
as the one where you performed the release, and that the 7
repositories are still on the same branch as used for the release.</p>
</li>
<li>
<p>Ensure you have the latest commit for the release branch of each
repository (See the <a href="https://foreach-across.github.io/maintenance/tips-and-tricks/">Tips and tricks</a> for details about these commands):</p>
<pre><code> ax-exec.sh git fetch -p
 ax-exec.sh git pull --ff-only
</code></pre>
</li>
<li>
<p>Next:</p>
<pre><code> ax-set-snapshot-versions.py
</code></pre>
</li>
<li>
<p>Lastly, you&rsquo;ll need to commit and push each repository separately
again (TODO: Automate this).</p>
</li>
</ol><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l"> 

<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">What&#39;s in this maintenance</p>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#create-a-release-plan-file">Create a release plan file</a></li>
    <li><a href="#run-the-release-script-for-each-repository">Run the release script for each repository</a></li>
    <li><a href="#deploy-to-maven-central">Deploy to Maven Central</a></li>
    <li><a href="#deploy-javadocs-to-the-website">Deploy Javadocs to the website</a></li>
    <li><a href="#write-and-deploy-release-notes">Write and deploy release notes</a></li>
    <li><a href="#reset-versions-to---snapshot">Reset versions to &ndash;SNAPSHOT</a></li>
  </ul>
</nav>
</div>






</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://foreach-across.github.io/" >
    &copy;  Foreach Across 2025 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://foreach.be/" target="_blank" rel="noopener" class="Foreach ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Foreach link" aria-label="follow on Foreach——Opens in a new window">
      
        Foreach
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.youtube.com/watch?v=00Jn3d12L2M" target="_blank" rel="noopener" class="youtube ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="YouTube link" aria-label="follow on YouTube——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/foreach-across/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
