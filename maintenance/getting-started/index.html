<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Getting started with development on Across | Foreach Across</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="These instructions are for setting up your development environment on
your laptop, in order to efficiently work on the Across framework,
modules and platform.">
    <meta name="generator" content="Hugo 0.121.2">
    
    
    
    
      <meta name="robots" content="index, follow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.f96b61024fa9430d3974da887e046433b2e934adb2f7c0fd2259cd989344350b.css" >



    

    
      
<link rel="shortcut icon" href="/img/favicon-32x32.ico" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="https://foreach-across.github.io/maintenance/getting-started/">
    

    <meta property="og:title" content="Getting started with development on Across" />
<meta property="og:description" content="These instructions are for setting up your development environment on
your laptop, in order to efficiently work on the Across framework,
modules and platform." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://foreach-across.github.io/maintenance/getting-started/" /><meta property="article:section" content="maintenance" />



<meta itemprop="name" content="Getting started with development on Across">
<meta itemprop="description" content="These instructions are for setting up your development environment on
your laptop, in order to efficiently work on the Across framework,
modules and platform.">

<meta itemprop="wordCount" content="1564">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Getting started with development on Across"/>
<meta name="twitter:description" content="These instructions are for setting up your development environment on
your laptop, in order to efficiently work on the Across framework,
modules and platform."/>

      
    
	
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Foreach Across
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/" title="Home page">
              Home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/overview/" title="Overview page">
              Overview
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/modules/" title="Modules page">
              Modules
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/docs/" title="Docs page">
              Docs
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/release-notes/" title="Release Notes page">
              Release Notes
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/blog/" title="Blog page">
              Blog
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/maintenance/" title="Maintenance page">
              Maintenance
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/faq/" title="FAQ page">
              FAQ
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/old" title="Old page">
              Old
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://foreach.be/" target="_blank" rel="noopener" class="Foreach ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Foreach link" aria-label="follow on Foreach——Opens in a new window">
      
        Foreach
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.youtube.com/watch?v=00Jn3d12L2M" target="_blank" rel="noopener" class="youtube ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="YouTube link" aria-label="follow on YouTube——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/foreach-across/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Maintenance
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Getting started with development on Across</h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>These instructions are for setting up your development environment on
your laptop, in order to efficiently work on the Across framework,
modules and platform.</p>
<h2 id="use-the-cli-not-intellij">Use the CLI, not IntelliJ</h2>
<p>Title says it all, the initial instructions here <em>MUST</em> be done in a
terminal, preferably using the <code>bash</code> shell (<code>zsh</code> might work, but I
make no guarantees).</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>On macOS, most of these can be installed using Homebrew. On Windows,
you can often use Chocolatey.</p>
<ul>
<li>
<p><code>bash</code></p>
</li>
<li>
<p>Python: minimum 3.10</p>
</li>
<li>
<p>Java: 8 for Across 5.x, 17 for Across 6.x, see further for the
specific installation instructions that are <em>required</em> to make the
scripts work. Do <em>NOT</em> skip this step.</p>
</li>
<li>
<p>Maven: Latest 3.9</p>
</li>
<li>
<p><a href="https://graphviz.org/download/">GraphViz</a></p>
</li>
<li>
<p><a href="https://gohugo.io/">Hugo</a> static site generator: You <em>need</em> version
<a href="https://github.com/gohugoio/hugo/releases/tag/v0.121.2"><code>0.121.2</code></a>,
and it MUST be the <em>extended</em> version of <code>hugo</code>.</p>
<p>On macOS, it should be possible to use (this is the extended version):</p>
<pre><code>brew install hugo@0.121.2
brew pin hugo
</code></pre>
<p>On Windows, you can use Chocolatey:</p>
<pre><code>choco install hugo-extended --version=0.121.2
choco pin add hugo-extended
</code></pre>
<p>Alternatively, <code>hugo</code> is easy to install by hand, since it&rsquo;s just a
single binary (it&rsquo;s written in Go). Just download the extended
version from the link above (near the bottom of the list) and put it
in your <code>~/bin</code> (if you have that in your <code>PATH</code>) or
<code>/usr/local/bin</code>.</p>
</li>
<li>
<p>Optional: Install the <a href="https://plugins.jetbrains.com/plugin/13215-hugo-integration">Hugo plugin for
IntelliJ</a></p>
</li>
</ul>
<h2 id="jdk-installation-instructions">JDK installation instructions</h2>
<p>Install both a JDK 1.8 and a JDK 17 in <code>~/.jdks</code>. The easiest way to
do this is:</p>
<ul>
<li>
<p>Download the latest Eclipse Temurin 1.8 and 17 JDK using the Project
Structure dialog in IntelliJ, which will put this in the <code>~/.jdks</code>
directory.</p>
</li>
<li>
<p>Then create symlinks so the <code>~/.jdks/1.8</code> and <code>~/.jdks/17</code> point to
the latest 1.8 and 17 in the <code>~/.jdks</code> directory.</p>
</li>
</ul>
<p>So you should end up with a directory structure like this:</p>
<pre><code>$ ls -l ~/.jdks/
lrwxrwxrwx 1 dvsp dvsp   15 aug  9 17:45 17 -&gt; temurin-17.0.12
lrwxrwxrwx 1 dvsp dvsp   18 jun 27  2022 1.8 -&gt; temurin-1.8.0_332/
drwxrwxr-x 9 dvsp dvsp 4096 aug  9 17:42 temurin-17.0.12
drwxrwxr-x 8 dvsp dvsp 4096 jun 27  2022 temurin-1.8.0_332
</code></pre>
<p>On macOS, IntelliJ installs the JDKS somewhere else in your home
directory; just make sure that the <code>1.8</code> and <code>17</code> links in <code>~/.jdks</code>
point to the those directories and you will be find.</p>
<h2 id="clone-the-repositories">Clone the repositories</h2>
<h3 id="clone-the-across-development-repository">Clone the across-development repository:</h3>
<p>First of all, make a directory where you will work on Across:</p>
<pre><code>mkdir -p ~/git/across
cd ~/git/across
</code></pre>
<p>And then clone the across-development repository:</p>
<pre><code>git clone https://gitlab.eindhoven.io-internal.dev/antwerpen/across/across-development.git
</code></pre>
<p>The (default) <code>main</code> branch is for Across 6.x. Switch to the <code>5.x</code>
branch for maintenance on older releases, but hopefully that will not
be needed. I highly recommend using separate local repositories for
5.x and 6.x development. At the time of writing, 6.0 is the version in
development, so you probably want to do something like this:</p>
<pre><code>mv across-development 6.0
</code></pre>
<h3 id="setup-the-python-virtualenv">Setup the Python virtualenv</h3>
<p><code>across-development</code> comes with a lot of <code>bash</code> and <code>python</code> scripts
for automation. There is also an <code>across.yml</code> file in the top-level
directory, that is used by the python scripts, but also by the
<a href="https://gohugo.io/">Hugo</a>-based Across website.</p>
<p>We need to set up a Python
<a href="https://docs.python.org/3/library/venv.html"><code>virtualenv</code></a> to make
these scripts work. Personally, I prefer to keep my virtualenvs
outside the git repository, otherwise it sometimes causes trouble with
IntelliJ:</p>
<pre><code>python3 -m venv ../venv-6
</code></pre>
<p>Next you have to activate the <code>venv-6</code> environment in your current
shell (and any other terminal that you open), by sourcing the
<code>activate</code> script, which should work for both <code>bash</code> and <code>zsh</code> on
Linux and macOS (there is a separate <code>activate.fish</code> script if you
like the <code>fish</code> shell):</p>
<pre><code>source ../venv-6/bin/activate
</code></pre>
<p>Or, more idiomatically in the <code>bash</code> shell (This does not work in the
<code>zsh</code> shell):</p>
<pre><code>. ../venv-6/bin/activate
</code></pre>
<p>On Windows, the activate script is in the Scripts/ directory:</p>
<pre><code>source ../venv-6/Scripts/activate
</code></pre>
<p>Note that on some installations there is no python3 executable in the
virtual environment.  If this is the case, make a symbolic link in the
directory of the virtual environment:</p>
<pre><code>ln -s python.exe python3.exe
</code></pre>
<p>If you now run:</p>
<pre><code>which python3
</code></pre>
<p>you should see that your shell picks up <code>python3</code> from the
<code>../venv-6/bin</code> directory.</p>
<p>Next we need to install the required Python packages into your
<code>virtualenv</code>:</p>
<pre><code>pip install -r requirements.txt
</code></pre>
<p>Now source the <code>env.sh</code> to add the local <code>bin</code> with the Across scripts
to your <code>PATH</code>:</p>
<pre><code>. env.sh
</code></pre>
<p>Try the following commands:</p>
<pre><code>ax-list.py modules
ax-list.py modules --with-repo
ax-list.py repositories
</code></pre>
<p>These commands should list the modules and repositories, in the order
that they need to be build (and are <a href="https://foreach-across.github.io/modules/">listed on the website</a>).</p>
<p>The order of the repositories is something you need to know by heart,
if you want to efficiently work on Across. It&rsquo;s not a long list, and
the order is pretty logical, so this shouldn&rsquo;t be a problem.</p>
<h3 id="clone-the-framework-modules-and-platform-repositories">Clone the Framework, modules and Platform repositories</h3>
<p>Next, we will use the <code>ax-list.py</code> script in combination with <code>xargs</code>
to clone all the repositories:</p>
<pre><code>ax-list.py repositories | xargs -I '{}' git clone https://gitlab.eindhoven.io-internal.dev/antwerpen/across/{}.git
</code></pre>
<p>The initial branch in each of those repositories will be whatever
happens to be the current default branch, so lets check what branch
this is, using, you guessed it, yet another script:</p>
<pre><code>ax-exec.sh git status
</code></pre>
<p>This simply executes <code>git status</code> in each of the child repositories.</p>
<p>Tip: If you want to run a command with <code>ax-exec.sh</code>, first start
typing that command itself, using standard shell completion. Then use
<code>ctrl-a</code> to go to the beginning of the command, and add <code>ax-exec.sh</code>
followed by a space, and <code>enter</code>.</p>
<p>Since we want to work on 6.0, and the 6.0 branches already exist, you
can now do:</p>
<pre><code>ax-exec.sh git checkout 6.0
</code></pre>
<h3 id="clone-the-website-repository">Clone the website repository</h3>
<p>The <a href="https://foreach-across.github.io">Across website</a> is actually
just a <a href="https://github.com/foreach-across/foreach-across.github.io">GitHub
repository</a>):
which contains the HTML/CSS/&hellip; files of the website. That repository
must be cloned in a specific directory:</p>
<pre><code>cd website
git clone git@github.com:foreach-across/foreach-across.github.io.git public
</code></pre>
<p>Publishing the website is one of the last steps of the <a href="/maintenance/release-procedure/">Release
procedure</a>, so that&rsquo;s documented there.</p>
<h2 id="initial-maven-build">Initial Maven build</h2>
<p>Assuming you followed the specific JDK installation instructions, you
can now source the <code>env.sh</code> file:</p>
<pre><code>. env.sh
</code></pre>
<p>Then use the alias <code>mciwt</code> (use <code>alias mciwt</code> to see what it does)
from the top-level directory:</p>
<pre><code>mciwt
</code></pre>
<p>This will likely fail with an error about some missing artifacts with
version <code>dev-SNAPSHOT</code>. This is due to the very specific structure of
the (parent) modules in Across, for which there is no easy
solution. The workaround is to first build in <code>across-framework</code>, and
then build everything:</p>
<pre><code>cd across-framework
mciwt
cd -
mciwt
</code></pre>
<p>Remember this, because you will likely run into this more than once.</p>
<p>Tip: If you ever run into trouble with Across snapshots and Maven
and/or IntelliJ, then check out the <a href="/maintenance/tips-and-tricks/">Tips and tricks</a>.</p>
<h2 id="intellij">IntelliJ</h2>
<p>Now that you have build everything using Maven, you can open the
top-level <code>pom.xml</code> in the <code>across-development</code> repository. This opens
<em>all</em> of Across in one single IntelliJ project, which any modern
laptop can easily handle. This is the only way to be able to work
efficiently on Across, allowing you to easily follow all references,
open call/class hierarchy, etc.</p>
<p>This is in fact the reason why the <code>dev-SNAPSHOT</code> version exists: the
IntelliJ support for Maven cannot handle different versions in the
various child projects, or at least not when they are defined using
the <a href="https://maven.apache.org/maven-ci-friendly.html"><code>revision</code></a>
property. And in Across 5.x, the various modules (or, since 5.3, the
repositories) have different versions. This obviously meant quite a
bit of work for GitLab CI/CD, and for the release procedure.</p>
<p>In Across 6.x, we have lined up all versions of Across Framework, all
modules/repository and Across Platform to 6.x. This is one of the
reasons why the <code>across-media-modules</code> repository (with 
<a href="/modules/file-manager-module/"><code>file-manager-module</code></a>
, 
<a href="/modules/imageserver-core/"><code>imageserver-core</code></a>
 and

<a href="/modules/web-cms-module/"><code>web-cms-module</code></a>
) <em>had</em> to be removed from Across

<a href="/release-notes/6.0.0/"><code>6.0.0</code></a>
: they were already at 6.x in Across
5.x. And I did not want to jump to Across 7, because it&rsquo;s nice to have
Across 6 with Spring 6, Spring Security 6 and Hibernate 6, and easier
to remember especially.</p>
<p>We could simplify the build process for Across 6.x, but I would not
recommend that for the CI process, until 5.x is really end of life
(meaning no applications left to upgrade).</p>
<h2 id="running-tests-with-maven">Running tests with Maven</h2>
<h3 id="setup-dev-configs-for-across-development">Setup ~/dev-configs for Across development</h3>
<p>This allows you to easily run integration tests from both Maven and
IntelliJ.</p>
<p>Symlink the <code>across-test.properties</code>. From the top-level directory, run:</p>
<pre><code>mkdir -p ~/dev-configs
(cd ~/dev-configs/ &amp;&amp; ln -s $OLDPWD/across-test.properties across-test.properties)
</code></pre>
<p>Note that the only difference with the <code>across-test.properties</code> from
the <code>across-framework</code> repository should be the hostnames: they are
all <code>127.0.0.1</code>, as opposed to the GitLab service <code>alias</code>.</p>
<h3 id="docker-compose-for-databases">docker-compose for databases</h3>
<p>The instructions here do not use <code>testcontainers</code> for the relational
databases, because:</p>
<ul>
<li>
<p>The tests in GitLab CI/CD don&rsquo;t use <code>testcontainers</code> either for
relational databases.</p>
</li>
<li>
<p>It is much faster to start a database server once in the background,
and then reuse it all the time, than to start one for each test case
(or at least every time there is a <code>@DirtiesContext</code>, and there are
a lot of those!)</p>
</li>
</ul>
<p>Other <code>testcontainers</code> are still used, since they are used only very
occasionally.</p>
<p>To start all database servers, simply run:</p>
<pre><code>docker-compose up
</code></pre>
<p>Or each one individually:</p>
<pre><code>docker-compose up mssql
docker-compose up mysql
docker-compose up oracle
docker-compose up postgres
</code></pre>
<h3 id="maven-integration-tests">Maven integration tests</h3>
<p>To run the integration tests locally, run either (or all) of:</p>
<pre><code>axitest -DacrossTest.datasource=h2
axitest -DacrossTest.datasource=mssql
axitest -DacrossTest.datasource=mysql
axitest -DacrossTest.datasource=oracle
axitest -DacrossTest.datasource=postgres
</code></pre>
<h1 id="running-tests-in-intellij">Running tests in IntelliJ</h1>
<p>Many Across repositories have an IntelliJ run configuration for each
database to run all integration tests. Obviously you need to have the
database(s) running using <code>docker-compose</code> (see above).</p><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l"> 

<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">What&#39;s in this maintenance</p>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#use-the-cli-not-intellij">Use the CLI, not IntelliJ</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#jdk-installation-instructions">JDK installation instructions</a></li>
    <li><a href="#clone-the-repositories">Clone the repositories</a>
      <ul>
        <li><a href="#clone-the-across-development-repository">Clone the across-development repository:</a></li>
        <li><a href="#setup-the-python-virtualenv">Setup the Python virtualenv</a></li>
        <li><a href="#clone-the-framework-modules-and-platform-repositories">Clone the Framework, modules and Platform repositories</a></li>
        <li><a href="#clone-the-website-repository">Clone the website repository</a></li>
      </ul>
    </li>
    <li><a href="#initial-maven-build">Initial Maven build</a></li>
    <li><a href="#intellij">IntelliJ</a></li>
    <li><a href="#running-tests-with-maven">Running tests with Maven</a>
      <ul>
        <li><a href="#setup-dev-configs-for-across-development">Setup ~/dev-configs for Across development</a></li>
        <li><a href="#docker-compose-for-databases">docker-compose for databases</a></li>
        <li><a href="#maven-integration-tests">Maven integration tests</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>






</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://foreach-across.github.io/" >
    &copy;  Foreach Across 2025 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://foreach.be/" target="_blank" rel="noopener" class="Foreach ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Foreach link" aria-label="follow on Foreach——Opens in a new window">
      
        Foreach
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://www.youtube.com/watch?v=00Jn3d12L2M" target="_blank" rel="noopener" class="youtube ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="YouTube link" aria-label="follow on YouTube——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://github.com/foreach-across/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
